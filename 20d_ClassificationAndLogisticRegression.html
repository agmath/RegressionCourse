<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-07-31">

<title>Classification and Logistic Regression</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="20d_ClassificationAndLogisticRegression_files/libs/clipboard/clipboard.min.js"></script>
<script src="20d_ClassificationAndLogisticRegression_files/libs/quarto-html/quarto.js"></script>
<script src="20d_ClassificationAndLogisticRegression_files/libs/quarto-html/popper.min.js"></script>
<script src="20d_ClassificationAndLogisticRegression_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="20d_ClassificationAndLogisticRegression_files/libs/quarto-html/anchor.min.js"></script>
<link href="20d_ClassificationAndLogisticRegression_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="20d_ClassificationAndLogisticRegression_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="20d_ClassificationAndLogisticRegression_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="20d_ClassificationAndLogisticRegression_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="20d_ClassificationAndLogisticRegression_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="20d_ClassificationAndLogisticRegression_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="20d_ClassificationAndLogisticRegression_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">Objectives</a>
  <ul class="collapse">
  <li><a href="#the-loans-dataset" id="toc-the-loans-dataset" class="nav-link" data-scroll-target="#the-loans-dataset">The Loans Dataset</a></li>
  <li><a href="#a-new-model-class" id="toc-a-new-model-class" class="nav-link" data-scroll-target="#a-new-model-class">A New Model Class</a></li>
  <li><a href="#building-reducing-and-interpreting-a-logistic-regressor" id="toc-building-reducing-and-interpreting-a-logistic-regressor" class="nav-link" data-scroll-target="#building-reducing-and-interpreting-a-logistic-regressor">Building, Reducing, and Interpreting a Logistic Regressor</a></li>
  <li><a href="#assessing-classifier-performance" id="toc-assessing-classifier-performance" class="nav-link" data-scroll-target="#assessing-classifier-performance">Assessing Classifier performance</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Classification and Logistic Regression</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 31, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modeldata)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tidymodels_prefer</span>()</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">kable_styling_bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"striped"</span>))</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>))</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>loans <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/shrikant-temburwar/Loan-Prediction-Dataset/master/train.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>All semester long we’ve been working with <em>regression</em> models. These are models designed to output a <em>numeric</em> response. It is also possible to construct models which will predict a <em>categorical</em> response. That is the topic of MAT434: Statistical Learning and Classification, but we’ll introduce the idea here.</p>
</section>
<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives</h2>
<p>In this notebook, we’ll accomplish the following:</p>
<ul>
<li>Distinguish between <em>regression</em> tasks and <em>classification</em> tasks.</li>
<li>Use the <code>tidymodels</code> framework to fit and assess a classifier.</li>
</ul>
<section id="the-loans-dataset" class="level3">
<h3 class="anchored" data-anchor-id="the-loans-dataset">The Loans Dataset</h3>
<p>We’ll be working with a dataset on loans and attempting to build a model which will predict whether a loan is approved or denied. The first few rows of that dataset can be seen below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>loans <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Loan_ID</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Gender</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Married</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Dependents</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Education</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Self_Employed</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ApplicantIncome</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CoapplicantIncome</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">LoanAmount</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Loan_Amount_Term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Credit_History</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Property_Area</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Loan_Status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">LP001002</td>
<td style="text-align: left;">Male</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">Graduate</td>
<td style="text-align: left;">No</td>
<td style="text-align: right;">5849</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Urban</td>
<td style="text-align: left;">Y</td>
</tr>
<tr class="even">
<td style="text-align: left;">LP001003</td>
<td style="text-align: left;">Male</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Graduate</td>
<td style="text-align: left;">No</td>
<td style="text-align: right;">4583</td>
<td style="text-align: right;">1508</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Rural</td>
<td style="text-align: left;">N</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LP001005</td>
<td style="text-align: left;">Male</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">Graduate</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: right;">3000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Urban</td>
<td style="text-align: left;">Y</td>
</tr>
<tr class="even">
<td style="text-align: left;">LP001006</td>
<td style="text-align: left;">Male</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">Not Graduate</td>
<td style="text-align: left;">No</td>
<td style="text-align: right;">2583</td>
<td style="text-align: right;">2358</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Urban</td>
<td style="text-align: left;">Y</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LP001008</td>
<td style="text-align: left;">Male</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">Graduate</td>
<td style="text-align: left;">No</td>
<td style="text-align: right;">6000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">141</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Urban</td>
<td style="text-align: left;">Y</td>
</tr>
<tr class="even">
<td style="text-align: left;">LP001011</td>
<td style="text-align: left;">Male</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Graduate</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: right;">5417</td>
<td style="text-align: right;">4196</td>
<td style="text-align: right;">267</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Urban</td>
<td style="text-align: left;">Y</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The <code>Loan_Status</code> variable is the one we’d like to predict.</p>
</section>
<section id="a-new-model-class" class="level3">
<h3 class="anchored" data-anchor-id="a-new-model-class">A New Model Class</h3>
<p>There are two major types of classification model. One simply outputs a class membership prediction, while the other outputs the <em>propensity</em> or <em>likelihood</em> of a model belonging to a paraticular class of interest. We’ll focus on the latter here because outputting a <em>propensity</em> is similar to a regression task – we are building a model whose output can be interpreted as a probability. Unfortunately, our linear regression models can’t be used for this purpose though because they are <em>polynomial</em> models. All polynomials which are not constant are unbounded – that is, we can’t construct a linear regression model which will only output responses between 0 and 1. Instead, we’ll use a new class of model called <em>logistic regressors</em>. A logistic regression model is useful for differentiating between two classes (<em>binary classification</em>), and takes the following form:</p>
<p><span class="math display">\[\displaystyle{\mathbb{P}\left[y = 1\right] = \frac{e^{\beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots + \beta_k x_k}}{1 + e^{\beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots + \beta_k x_k}}}\]</span></p>
<p>The output of a logistic regressor can be interpreted as the probability that the corresponding observation belongs to the class whose label is encoded by 1.</p>
</section>
<section id="building-reducing-and-interpreting-a-logistic-regressor" class="level3">
<h3 class="anchored" data-anchor-id="building-reducing-and-interpreting-a-logistic-regressor">Building, Reducing, and Interpreting a Logistic Regressor</h3>
<p>As usual, we’ll begin by splitting our data into a training and test set and then further splitting our training data into cross-validation folds. We’ll stratify by <code>Loan_Status</code> to ensure that there is proportional representation of approved and denied loans in each of our sets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>loans_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(loans, <span class="at">prop =</span> <span class="fl">0.9</span>, <span class="at">strata =</span> Loan_Status)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>loans_train <span class="ot">&lt;-</span> <span class="fu">training</span>(loans_split)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>loans_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(loans_split)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>loans_folds <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(loans_train, <span class="at">v =</span> <span class="dv">5</span>, <span class="at">strata =</span> Loan_Status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we’ll build a <em>logistic regression</em> model specification and a corresponding recipe. We’ll package the model and recipe together into a workflow, and then fit the workflow.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>log_clf <span class="ot">&lt;-</span> <span class="fu">logistic_reg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"glm"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>log_clf_cv <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit_resamples</span>(loans_folds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>→ A | warning: prediction from rank-deficient fit; attr(*, "non-estim") has doubtful cases</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>There were issues with some computations   A: x1
There were issues with some computations   A: x1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>log_clf_cv <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">.metric</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.estimator</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std_err</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.config</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">accuracy</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.8050975</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.0157151</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">brier_class</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.1579879</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.0136477</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.7432406</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.0365422</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>log_clf_cv <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>(<span class="at">summarize =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">id</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.metric</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.estimator</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">.estimate</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.config</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Fold1</td>
<td style="text-align: left;">accuracy</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.7551020</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold1</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.6432354</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold1</td>
<td style="text-align: left;">brier_class</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.2021081</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold2</td>
<td style="text-align: left;">accuracy</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.8383838</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold2</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.8130930</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold2</td>
<td style="text-align: left;">brier_class</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.1309485</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold3</td>
<td style="text-align: left;">accuracy</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.8020833</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold3</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.7320099</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold3</td>
<td style="text-align: left;">brier_class</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.1583560</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold4</td>
<td style="text-align: left;">accuracy</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.8387097</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold4</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.8375661</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold4</td>
<td style="text-align: left;">brier_class</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.1281081</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold5</td>
<td style="text-align: left;">accuracy</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.7912088</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold5</td>
<td style="text-align: left;">roc_auc</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.6902985</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold5</td>
<td style="text-align: left;">brier_class</td>
<td style="text-align: left;">binary</td>
<td style="text-align: right;">0.1704186</td>
<td style="text-align: left;">Preprocessor1_Model1</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The accuracy of the model is hovering at around 80%. Let’s fit the model to our training data and interpret the model coefficients.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">null.deviance</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">df.null</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">logLik</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">AIC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">BIC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">deviance</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">df.residual</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">nobs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">589.2224</td>
<td style="text-align: right;">476</td>
<td style="text-align: right;">-214.6937</td>
<td style="text-align: right;">467.3875</td>
<td style="text-align: right;">546.5703</td>
<td style="text-align: right;">429.3875</td>
<td style="text-align: right;">458</td>
<td style="text-align: right;">477</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-2.4989186</td>
<td style="text-align: right;">0.9610571</td>
<td style="text-align: right;">-2.6001770</td>
<td style="text-align: right;">0.0093176</td>
</tr>
<tr class="even">
<td style="text-align: left;">ApplicantIncome</td>
<td style="text-align: right;">0.0000232</td>
<td style="text-align: right;">0.0000362</td>
<td style="text-align: right;">0.6389763</td>
<td style="text-align: right;">0.5228383</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CoapplicantIncome</td>
<td style="text-align: right;">-0.0000431</td>
<td style="text-align: right;">0.0000438</td>
<td style="text-align: right;">-0.9849162</td>
<td style="text-align: right;">0.3246653</td>
</tr>
<tr class="even">
<td style="text-align: left;">LoanAmount</td>
<td style="text-align: right;">-0.0020185</td>
<td style="text-align: right;">0.0020136</td>
<td style="text-align: right;">-1.0024311</td>
<td style="text-align: right;">0.3161354</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Loan_Amount_Term</td>
<td style="text-align: right;">-0.0015120</td>
<td style="text-align: right;">0.0020646</td>
<td style="text-align: right;">-0.7323285</td>
<td style="text-align: right;">0.4639681</td>
</tr>
<tr class="even">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8222216</td>
<td style="text-align: right;">0.4743907</td>
<td style="text-align: right;">8.0571180</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gender_Male</td>
<td style="text-align: right;">0.3167624</td>
<td style="text-align: right;">0.3372321</td>
<td style="text-align: right;">0.9393010</td>
<td style="text-align: right;">0.3475762</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gender_other</td>
<td style="text-align: right;">-0.0317584</td>
<td style="text-align: right;">0.8427894</td>
<td style="text-align: right;">-0.0376825</td>
<td style="text-align: right;">0.9699409</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.5112299</td>
<td style="text-align: right;">0.2965235</td>
<td style="text-align: right;">1.7240789</td>
<td style="text-align: right;">0.0846936</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">13.1231566</td>
<td style="text-align: right;">882.7439373</td>
<td style="text-align: right;">0.0148663</td>
<td style="text-align: right;">0.9881388</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X1</td>
<td style="text-align: right;">-0.4114211</td>
<td style="text-align: right;">0.3562345</td>
<td style="text-align: right;">-1.1549164</td>
<td style="text-align: right;">0.2481246</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X2</td>
<td style="text-align: right;">0.2016477</td>
<td style="text-align: right;">0.3794333</td>
<td style="text-align: right;">0.5314443</td>
<td style="text-align: right;">0.5951109</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X3.</td>
<td style="text-align: right;">0.2989076</td>
<td style="text-align: right;">0.5055901</td>
<td style="text-align: right;">0.5912055</td>
<td style="text-align: right;">0.5543828</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_other</td>
<td style="text-align: right;">-0.1496525</td>
<td style="text-align: right;">0.9109907</td>
<td style="text-align: right;">-0.1642745</td>
<td style="text-align: right;">0.8695151</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Education_Not.Graduate</td>
<td style="text-align: right;">-0.5076586</td>
<td style="text-align: right;">0.3055898</td>
<td style="text-align: right;">-1.6612419</td>
<td style="text-align: right;">0.0966649</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Self_Employed_Yes</td>
<td style="text-align: right;">-0.1989879</td>
<td style="text-align: right;">0.3484903</td>
<td style="text-align: right;">-0.5709996</td>
<td style="text-align: right;">0.5679999</td>
</tr>
<tr class="even">
<td style="text-align: left;">Self_Employed_unknown</td>
<td style="text-align: right;">1.4004095</td>
<td style="text-align: right;">0.7923403</td>
<td style="text-align: right;">1.7674344</td>
<td style="text-align: right;">0.0771555</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8870297</td>
<td style="text-align: right;">0.3075344</td>
<td style="text-align: right;">2.8843262</td>
<td style="text-align: right;">0.0039225</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0666169</td>
<td style="text-align: right;">0.3044695</td>
<td style="text-align: right;">0.2187966</td>
<td style="text-align: right;">0.8268085</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Like linear regression, we get a <span class="math inline">\(p\)</span>-value associated with each model term. We can use this information to remove predictors from the model if there is not statistically significant evidence to suggest that they are useful. In the output above, we can see that <code>ApplicantIncome</code> has a high <span class="math inline">\(p\)</span>-value – we’ll take care of that one first since the <span class="math inline">\(p\)</span>-values which are higher are each attached to a single level of a categorical variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-2.4529843</td>
<td style="text-align: right;">0.9599955</td>
<td style="text-align: right;">-2.5552039</td>
<td style="text-align: right;">0.0106126</td>
</tr>
<tr class="even">
<td style="text-align: left;">CoapplicantIncome</td>
<td style="text-align: right;">-0.0000514</td>
<td style="text-align: right;">0.0000423</td>
<td style="text-align: right;">-1.2147592</td>
<td style="text-align: right;">0.2244579</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LoanAmount</td>
<td style="text-align: right;">-0.0011197</td>
<td style="text-align: right;">0.0014552</td>
<td style="text-align: right;">-0.7694332</td>
<td style="text-align: right;">0.4416362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Loan_Amount_Term</td>
<td style="text-align: right;">-0.0016404</td>
<td style="text-align: right;">0.0020650</td>
<td style="text-align: right;">-0.7943544</td>
<td style="text-align: right;">0.4269892</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8203641</td>
<td style="text-align: right;">0.4733598</td>
<td style="text-align: right;">8.0707407</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gender_Male</td>
<td style="text-align: right;">0.3110792</td>
<td style="text-align: right;">0.3372429</td>
<td style="text-align: right;">0.9224187</td>
<td style="text-align: right;">0.3563102</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gender_other</td>
<td style="text-align: right;">0.0228067</td>
<td style="text-align: right;">0.8360966</td>
<td style="text-align: right;">0.0272776</td>
<td style="text-align: right;">0.9782383</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.4990121</td>
<td style="text-align: right;">0.2960870</td>
<td style="text-align: right;">1.6853565</td>
<td style="text-align: right;">0.0919198</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">13.1264249</td>
<td style="text-align: right;">882.7439371</td>
<td style="text-align: right;">0.0148700</td>
<td style="text-align: right;">0.9881359</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X1</td>
<td style="text-align: right;">-0.4196812</td>
<td style="text-align: right;">0.3550546</td>
<td style="text-align: right;">-1.1820186</td>
<td style="text-align: right;">0.2371983</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X2</td>
<td style="text-align: right;">0.1906272</td>
<td style="text-align: right;">0.3783393</td>
<td style="text-align: right;">0.5038527</td>
<td style="text-align: right;">0.6143649</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X3.</td>
<td style="text-align: right;">0.3273592</td>
<td style="text-align: right;">0.5051927</td>
<td style="text-align: right;">0.6479887</td>
<td style="text-align: right;">0.5169922</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_other</td>
<td style="text-align: right;">-0.1728850</td>
<td style="text-align: right;">0.9104306</td>
<td style="text-align: right;">-0.1898937</td>
<td style="text-align: right;">0.8493925</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education_Not.Graduate</td>
<td style="text-align: right;">-0.5105283</td>
<td style="text-align: right;">0.3053041</td>
<td style="text-align: right;">-1.6721959</td>
<td style="text-align: right;">0.0944857</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Education_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Self_Employed_Yes</td>
<td style="text-align: right;">-0.1660175</td>
<td style="text-align: right;">0.3439122</td>
<td style="text-align: right;">-0.4827323</td>
<td style="text-align: right;">0.6292858</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Self_Employed_unknown</td>
<td style="text-align: right;">1.4212648</td>
<td style="text-align: right;">0.7929617</td>
<td style="text-align: right;">1.7923498</td>
<td style="text-align: right;">0.0730769</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8983514</td>
<td style="text-align: right;">0.3070095</td>
<td style="text-align: right;">2.9261359</td>
<td style="text-align: right;">0.0034320</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0907199</td>
<td style="text-align: right;">0.3019130</td>
<td style="text-align: right;">0.3004837</td>
<td style="text-align: right;">0.7638082</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>We’ll now remove <code>LoanAmount</code> due to its high <span class="math inline">\(p\)</span>-value.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(LoanAmount) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-2.6973736</td>
<td style="text-align: right;">0.9231379</td>
<td style="text-align: right;">-2.9219617</td>
<td style="text-align: right;">0.0034783</td>
</tr>
<tr class="even">
<td style="text-align: left;">CoapplicantIncome</td>
<td style="text-align: right;">-0.0000495</td>
<td style="text-align: right;">0.0000422</td>
<td style="text-align: right;">-1.1742760</td>
<td style="text-align: right;">0.2402845</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Loan_Amount_Term</td>
<td style="text-align: right;">-0.0012141</td>
<td style="text-align: right;">0.0019815</td>
<td style="text-align: right;">-0.6127143</td>
<td style="text-align: right;">0.5400653</td>
</tr>
<tr class="even">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.7968026</td>
<td style="text-align: right;">0.4679064</td>
<td style="text-align: right;">8.1144487</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gender_Male</td>
<td style="text-align: right;">0.2625179</td>
<td style="text-align: right;">0.3328265</td>
<td style="text-align: right;">0.7887531</td>
<td style="text-align: right;">0.4302563</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gender_other</td>
<td style="text-align: right;">-0.0376062</td>
<td style="text-align: right;">0.8277210</td>
<td style="text-align: right;">-0.0454334</td>
<td style="text-align: right;">0.9637618</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.4694940</td>
<td style="text-align: right;">0.2865163</td>
<td style="text-align: right;">1.6386294</td>
<td style="text-align: right;">0.1012905</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">12.8605374</td>
<td style="text-align: right;">624.1471958</td>
<td style="text-align: right;">0.0206050</td>
<td style="text-align: right;">0.9835608</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X1</td>
<td style="text-align: right;">-0.3183561</td>
<td style="text-align: right;">0.3465245</td>
<td style="text-align: right;">-0.9187117</td>
<td style="text-align: right;">0.3582464</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X2</td>
<td style="text-align: right;">0.1710928</td>
<td style="text-align: right;">0.3670923</td>
<td style="text-align: right;">0.4660757</td>
<td style="text-align: right;">0.6411613</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X3.</td>
<td style="text-align: right;">0.1642606</td>
<td style="text-align: right;">0.4743118</td>
<td style="text-align: right;">0.3463135</td>
<td style="text-align: right;">0.7291071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_other</td>
<td style="text-align: right;">0.0480555</td>
<td style="text-align: right;">0.8662543</td>
<td style="text-align: right;">0.0554751</td>
<td style="text-align: right;">0.9557600</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Education_Not.Graduate</td>
<td style="text-align: right;">-0.5009039</td>
<td style="text-align: right;">0.2886666</td>
<td style="text-align: right;">-1.7352331</td>
<td style="text-align: right;">0.0826995</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Self_Employed_Yes</td>
<td style="text-align: right;">-0.1290061</td>
<td style="text-align: right;">0.3378401</td>
<td style="text-align: right;">-0.3818557</td>
<td style="text-align: right;">0.7025684</td>
</tr>
<tr class="even">
<td style="text-align: left;">Self_Employed_unknown</td>
<td style="text-align: right;">1.4571460</td>
<td style="text-align: right;">0.7963133</td>
<td style="text-align: right;">1.8298653</td>
<td style="text-align: right;">0.0672701</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8638045</td>
<td style="text-align: right;">0.3006735</td>
<td style="text-align: right;">2.8728981</td>
<td style="text-align: right;">0.0040673</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0228666</td>
<td style="text-align: right;">0.2911781</td>
<td style="text-align: right;">0.0785313</td>
<td style="text-align: right;">0.9374054</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>And now we’ll remove the <code>Loan_Amount_Term</code> predictor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(LoanAmount) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_Amount_Term) <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.1896069</td>
<td style="text-align: right;">0.5689535</td>
<td style="text-align: right;">-5.6060939</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">CoapplicantIncome</td>
<td style="text-align: right;">-0.0000466</td>
<td style="text-align: right;">0.0000418</td>
<td style="text-align: right;">-1.1156774</td>
<td style="text-align: right;">0.2645603</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8889114</td>
<td style="text-align: right;">0.4639547</td>
<td style="text-align: right;">8.3820936</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gender_Male</td>
<td style="text-align: right;">0.2287428</td>
<td style="text-align: right;">0.3304710</td>
<td style="text-align: right;">0.6921721</td>
<td style="text-align: right;">0.4888292</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gender_other</td>
<td style="text-align: right;">-0.0590459</td>
<td style="text-align: right;">0.8286520</td>
<td style="text-align: right;">-0.0712554</td>
<td style="text-align: right;">0.9431945</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.4780451</td>
<td style="text-align: right;">0.2857684</td>
<td style="text-align: right;">1.6728407</td>
<td style="text-align: right;">0.0943587</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">12.7888198</td>
<td style="text-align: right;">623.2316618</td>
<td style="text-align: right;">0.0205202</td>
<td style="text-align: right;">0.9836284</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X1</td>
<td style="text-align: right;">-0.3385201</td>
<td style="text-align: right;">0.3425413</td>
<td style="text-align: right;">-0.9882605</td>
<td style="text-align: right;">0.3230251</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X2</td>
<td style="text-align: right;">0.1390872</td>
<td style="text-align: right;">0.3668929</td>
<td style="text-align: right;">0.3790949</td>
<td style="text-align: right;">0.7046174</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X3.</td>
<td style="text-align: right;">0.1460591</td>
<td style="text-align: right;">0.4715114</td>
<td style="text-align: right;">0.3097679</td>
<td style="text-align: right;">0.7567375</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_other</td>
<td style="text-align: right;">0.1089389</td>
<td style="text-align: right;">0.8480836</td>
<td style="text-align: right;">0.1284531</td>
<td style="text-align: right;">0.8977904</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education_Not.Graduate</td>
<td style="text-align: right;">-0.4291522</td>
<td style="text-align: right;">0.2829370</td>
<td style="text-align: right;">-1.5167767</td>
<td style="text-align: right;">0.1293231</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Education_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Self_Employed_Yes</td>
<td style="text-align: right;">-0.1016076</td>
<td style="text-align: right;">0.3360384</td>
<td style="text-align: right;">-0.3023690</td>
<td style="text-align: right;">0.7623708</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Self_Employed_unknown</td>
<td style="text-align: right;">1.4951455</td>
<td style="text-align: right;">0.7970839</td>
<td style="text-align: right;">1.8757693</td>
<td style="text-align: right;">0.0606870</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8580720</td>
<td style="text-align: right;">0.3001088</td>
<td style="text-align: right;">2.8592030</td>
<td style="text-align: right;">0.0042471</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0689477</td>
<td style="text-align: right;">0.2863381</td>
<td style="text-align: right;">0.2407913</td>
<td style="text-align: right;">0.8097169</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Now <code>Gender</code> gets removed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(LoanAmount) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_Amount_Term) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.0519837</td>
<td style="text-align: right;">0.5275751</td>
<td style="text-align: right;">-5.7849273</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">CoapplicantIncome</td>
<td style="text-align: right;">-0.0000421</td>
<td style="text-align: right;">0.0000412</td>
<td style="text-align: right;">-1.0240013</td>
<td style="text-align: right;">0.3058347</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8901229</td>
<td style="text-align: right;">0.4633957</td>
<td style="text-align: right;">8.3948184</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.5410979</td>
<td style="text-align: right;">0.2690896</td>
<td style="text-align: right;">2.0108466</td>
<td style="text-align: right;">0.0443417</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">12.7688124</td>
<td style="text-align: right;">624.1944502</td>
<td style="text-align: right;">0.0204565</td>
<td style="text-align: right;">0.9836792</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X1</td>
<td style="text-align: right;">-0.3567241</td>
<td style="text-align: right;">0.3412027</td>
<td style="text-align: right;">-1.0454903</td>
<td style="text-align: right;">0.2957964</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X2</td>
<td style="text-align: right;">0.1495488</td>
<td style="text-align: right;">0.3664164</td>
<td style="text-align: right;">0.4081391</td>
<td style="text-align: right;">0.6831716</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X3.</td>
<td style="text-align: right;">0.1468830</td>
<td style="text-align: right;">0.4697043</td>
<td style="text-align: right;">0.3127138</td>
<td style="text-align: right;">0.7544981</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_other</td>
<td style="text-align: right;">0.1174474</td>
<td style="text-align: right;">0.8483378</td>
<td style="text-align: right;">0.1384441</td>
<td style="text-align: right;">0.8898894</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education_Not.Graduate</td>
<td style="text-align: right;">-0.4157659</td>
<td style="text-align: right;">0.2815194</td>
<td style="text-align: right;">-1.4768640</td>
<td style="text-align: right;">0.1397121</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Education_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Self_Employed_Yes</td>
<td style="text-align: right;">-0.1113688</td>
<td style="text-align: right;">0.3341613</td>
<td style="text-align: right;">-0.3332785</td>
<td style="text-align: right;">0.7389241</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Self_Employed_unknown</td>
<td style="text-align: right;">1.5107580</td>
<td style="text-align: right;">0.7982406</td>
<td style="text-align: right;">1.8926099</td>
<td style="text-align: right;">0.0584098</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8416688</td>
<td style="text-align: right;">0.2987829</td>
<td style="text-align: right;">2.8169912</td>
<td style="text-align: right;">0.0048476</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0707943</td>
<td style="text-align: right;">0.2860912</td>
<td style="text-align: right;">0.2474535</td>
<td style="text-align: right;">0.8045573</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>And now the <code>CoapplicantIncome</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(LoanAmount) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_Amount_Term) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(CoapplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.1117019</td>
<td style="text-align: right;">0.5247893</td>
<td style="text-align: right;">-5.9294312</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8831039</td>
<td style="text-align: right;">0.4627203</td>
<td style="text-align: right;">8.3919035</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.5152269</td>
<td style="text-align: right;">0.2674210</td>
<td style="text-align: right;">1.9266507</td>
<td style="text-align: right;">0.0540232</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">12.8044060</td>
<td style="text-align: right;">624.1944485</td>
<td style="text-align: right;">0.0205135</td>
<td style="text-align: right;">0.9836338</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X1</td>
<td style="text-align: right;">-0.3314454</td>
<td style="text-align: right;">0.3397146</td>
<td style="text-align: right;">-0.9756585</td>
<td style="text-align: right;">0.3292337</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_X2</td>
<td style="text-align: right;">0.1486167</td>
<td style="text-align: right;">0.3660850</td>
<td style="text-align: right;">0.4059623</td>
<td style="text-align: right;">0.6847703</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dependents_X3.</td>
<td style="text-align: right;">0.1871269</td>
<td style="text-align: right;">0.4668371</td>
<td style="text-align: right;">0.4008397</td>
<td style="text-align: right;">0.6885381</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dependents_other</td>
<td style="text-align: right;">0.1449574</td>
<td style="text-align: right;">0.8470528</td>
<td style="text-align: right;">0.1711315</td>
<td style="text-align: right;">0.8641204</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Education_Not.Graduate</td>
<td style="text-align: right;">-0.3917205</td>
<td style="text-align: right;">0.2801854</td>
<td style="text-align: right;">-1.3980758</td>
<td style="text-align: right;">0.1620903</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Self_Employed_Yes</td>
<td style="text-align: right;">-0.1132400</td>
<td style="text-align: right;">0.3341939</td>
<td style="text-align: right;">-0.3388451</td>
<td style="text-align: right;">0.7347264</td>
</tr>
<tr class="even">
<td style="text-align: left;">Self_Employed_unknown</td>
<td style="text-align: right;">1.5284863</td>
<td style="text-align: right;">0.8012526</td>
<td style="text-align: right;">1.9076210</td>
<td style="text-align: right;">0.0564402</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8453024</td>
<td style="text-align: right;">0.2986458</td>
<td style="text-align: right;">2.8304513</td>
<td style="text-align: right;">0.0046482</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0750451</td>
<td style="text-align: right;">0.2857465</td>
<td style="text-align: right;">0.2626282</td>
<td style="text-align: right;">0.7928372</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Now the <code>Dependents</code> variable should be removed since all of its levels have <span class="math inline">\(p\)</span>-values higher than the other model terms.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(LoanAmount) <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_Amount_Term) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(CoapplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Dependents) <span class="sc">%&gt;%</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.0711821</td>
<td style="text-align: right;">0.5151412</td>
<td style="text-align: right;">-5.9618256</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8458190</td>
<td style="text-align: right;">0.4553814</td>
<td style="text-align: right;">8.4452703</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.5209900</td>
<td style="text-align: right;">0.2385411</td>
<td style="text-align: right;">2.1840676</td>
<td style="text-align: right;">0.0289573</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">12.9738410</td>
<td style="text-align: right;">624.1938874</td>
<td style="text-align: right;">0.0207850</td>
<td style="text-align: right;">0.9834172</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Education_Not.Graduate</td>
<td style="text-align: right;">-0.3834507</td>
<td style="text-align: right;">0.2790899</td>
<td style="text-align: right;">-1.3739324</td>
<td style="text-align: right;">0.1694627</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Self_Employed_Yes</td>
<td style="text-align: right;">-0.1339977</td>
<td style="text-align: right;">0.3310414</td>
<td style="text-align: right;">-0.4047763</td>
<td style="text-align: right;">0.6856419</td>
</tr>
<tr class="even">
<td style="text-align: left;">Self_Employed_unknown</td>
<td style="text-align: right;">1.5187712</td>
<td style="text-align: right;">0.8067847</td>
<td style="text-align: right;">1.8824988</td>
<td style="text-align: right;">0.0597683</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8175899</td>
<td style="text-align: right;">0.2969759</td>
<td style="text-align: right;">2.7530507</td>
<td style="text-align: right;">0.0059043</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0417614</td>
<td style="text-align: right;">0.2805583</td>
<td style="text-align: right;">0.1488510</td>
<td style="text-align: right;">0.8816712</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>And now <code>Education</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(LoanAmount) <span class="sc">%&gt;%</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_Amount_Term) <span class="sc">%&gt;%</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(CoapplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Dependents) <span class="sc">%&gt;%</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Education) <span class="sc">%&gt;%</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.2117754</td>
<td style="text-align: right;">0.5067024</td>
<td style="text-align: right;">-6.3385829</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8733275</td>
<td style="text-align: right;">0.4542484</td>
<td style="text-align: right;">8.5268927</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.5249213</td>
<td style="text-align: right;">0.2383121</td>
<td style="text-align: right;">2.2026636</td>
<td style="text-align: right;">0.0276185</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">13.0574215</td>
<td style="text-align: right;">624.1938841</td>
<td style="text-align: right;">0.0209189</td>
<td style="text-align: right;">0.9833104</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Self_Employed_Yes</td>
<td style="text-align: right;">-0.1239209</td>
<td style="text-align: right;">0.3307729</td>
<td style="text-align: right;">-0.3746404</td>
<td style="text-align: right;">0.7079279</td>
</tr>
<tr class="even">
<td style="text-align: left;">Self_Employed_unknown</td>
<td style="text-align: right;">1.5154531</td>
<td style="text-align: right;">0.8119814</td>
<td style="text-align: right;">1.8663643</td>
<td style="text-align: right;">0.0619904</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8470942</td>
<td style="text-align: right;">0.2959740</td>
<td style="text-align: right;">2.8620563</td>
<td style="text-align: right;">0.0042090</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0911532</td>
<td style="text-align: right;">0.2772758</td>
<td style="text-align: right;">0.3287457</td>
<td style="text-align: right;">0.7423479</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Next we’ll remove the <code>Self_Employed</code> variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(LoanAmount) <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_Amount_Term) <span class="sc">%&gt;%</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(CoapplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Dependents) <span class="sc">%&gt;%</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Education) <span class="sc">%&gt;%</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Self_Employed) <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>())</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.1494152</td>
<td style="text-align: right;">0.4971941</td>
<td style="text-align: right;">-6.3343778</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8671654</td>
<td style="text-align: right;">0.4485669</td>
<td style="text-align: right;">8.6211572</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.4981902</td>
<td style="text-align: right;">0.2364029</td>
<td style="text-align: right;">2.1073776</td>
<td style="text-align: right;">0.0350849</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">13.0088663</td>
<td style="text-align: right;">624.1938810</td>
<td style="text-align: right;">0.0208411</td>
<td style="text-align: right;">0.9833724</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8394513</td>
<td style="text-align: right;">0.2949382</td>
<td style="text-align: right;">2.8461940</td>
<td style="text-align: right;">0.0044245</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0844338</td>
<td style="text-align: right;">0.2745243</td>
<td style="text-align: right;">0.3075638</td>
<td style="text-align: right;">0.7584142</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_other</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Now, all of the predictors are attached to <span class="math inline">\(p\)</span>-values below the 5% threshold for statistical significance. Note that the high <span class="math inline">\(p\)</span>-value attached to <code>Property_Area_Urban</code> indicates no evidence for that particular level of the <code>Property_Area</code> having a different effect on loan approval or denial than the base level of <code>Rural</code>. The property area being <em>semiurban</em> though is associated with a higher likelihood of loan approval, which we can tell because its coefficient is <em>positive</em>. We were unable to estimate the impact of having a <em>missing</em> property area because there were so few observations in this category. We can similarly interpret the other coefficients.</p>
<ul>
<li>Better (higher) <code>Credit_History</code> is associated with a higher likelihood of loan approval.</li>
<li>Applicants who are <code>Married</code> have a higher likelihood of loan approval than those who were not married or those whose marital status was unknown.</li>
<li>The coefficient fit for loan applications in an <em>Urban</em> <code>Property_Area</code> indicates a higher likelihood of loan approval than applicants in a <em>Rural</em> <code>Property_Area</code> – the high <span class="math inline">\(p\)</span>-value, however, indicates no statistical evidence to support this.</li>
<li>The coefficient fit for loan applications in an <em>Semiurban</em> <code>Property_Area</code> indicates a higher likelihood of loan approval than applicants in a <em>Rural</em> <code>Property_Area</code>.</li>
<li>No coefficient could be fit for loan applications whose <code>Property_Area</code> was unlisted because there were 0 records missing this information in the training set.</li>
</ul>
<p>Since there are no observations with missing <code>Property_Area</code>, we’ll refit the model by removing that predictor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>log_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Loan_Status <span class="sc">~</span> ., <span class="at">data =</span> loans_train) <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_ID) <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(ApplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(LoanAmount) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Loan_Amount_Term) <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(CoapplicantIncome) <span class="sc">%&gt;%</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Dependents) <span class="sc">%&gt;%</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Education) <span class="sc">%&gt;%</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Self_Employed) <span class="sc">%&gt;%</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_other</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal_predictors</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(Property_Area_other)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>log_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(log_clf) <span class="sc">%&gt;%</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(log_rec)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="ot">&lt;-</span> log_wf <span class="sc">%&gt;%</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(loans_train)</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_fit_engine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.1494152</td>
<td style="text-align: right;">0.4971941</td>
<td style="text-align: right;">-6.3343778</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Credit_History</td>
<td style="text-align: right;">3.8671654</td>
<td style="text-align: right;">0.4485669</td>
<td style="text-align: right;">8.6211572</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Married_Yes</td>
<td style="text-align: right;">0.4981902</td>
<td style="text-align: right;">0.2364029</td>
<td style="text-align: right;">2.1073776</td>
<td style="text-align: right;">0.0350849</td>
</tr>
<tr class="even">
<td style="text-align: left;">Married_other</td>
<td style="text-align: right;">13.0088663</td>
<td style="text-align: right;">624.1938810</td>
<td style="text-align: right;">0.0208411</td>
<td style="text-align: right;">0.9833724</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Property_Area_Semiurban</td>
<td style="text-align: right;">0.8394513</td>
<td style="text-align: right;">0.2949382</td>
<td style="text-align: right;">2.8461940</td>
<td style="text-align: right;">0.0044245</td>
</tr>
<tr class="even">
<td style="text-align: left;">Property_Area_Urban</td>
<td style="text-align: right;">0.0844338</td>
<td style="text-align: right;">0.2745243</td>
<td style="text-align: right;">0.3075638</td>
<td style="text-align: right;">0.7584142</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="assessing-classifier-performance" class="level3">
<h3 class="anchored" data-anchor-id="assessing-classifier-performance">Assessing Classifier performance</h3>
<p>The metrics we’ve been depending on, R-Squared and the Root Mean Squared Error, are meaningless for classification. There are lots of classification performance metrics, but we’ll focus on the simplest one here – <em>accuracy</em>. This metric is exactly what it sounds like – out of all the predictions we made, what proportion were correct? Let’s assess our model’s accuracy on the test data below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>log_clf_fit <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(loans_test) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Loan_Status, .pred_class) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(.pred_class)) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">accuracy =</span> <span class="fu">sum</span>(Loan_Status <span class="sc">==</span> .pred_class)<span class="sc">/</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-hover table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">accuracy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.8596491</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Our model achieved 85.7% accuracy on the unseen test data! We won’t know whether this is good or bad until we try building other models to beat this one. For now, since 68.3% of all loans were approved, our model is doing better than just naively guessing that every loan will be approved.</p>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>This notebook introduced the notion of classification – building models to predict a categorical outcome (such as whether or not a loan will be approved). We saw that the same <code>{tidymodels}</code> framework we’ve utilized to approach <em>regression</em> tasks was also useful for <em>classification</em> tasks. If you’d like to learn more about classification, I’d love to see you in <em>MAT434: Statistical Learning and Classification</em> next semester!</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>